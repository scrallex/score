<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Structural Intelligence Engine</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="main.js"></script>
</head>
<body>
  <div class="page">
    <header class="hero">
      <div class="hero__copy">
        <p class="eyebrow">Structural Intelligence Engine</p>
        <h1>Reveal structure hiding inside chaotic telemetry.</h1>
        <p class="subtitle">
          Explore the Pattern Prophet, Twin Finder, and Context Refinery demos built on
          MMS storm data and the SEP quantum manifold.
        </p>
        <div class="hero__actions">
          <a class="btn" href="#pattern-prophet">View Demos</a>
          <a class="btn btn--ghost" href="https://docs.mxbikes.xyz" target="_blank" rel="noreferrer">Docs</a>
          <a class="btn btn--ghost" href="/dashboard.html">Executive Dashboard</a>
        </div>
      </div>
      <div class="hero__meta" id="meta">
        <span class="meta__label">Last generated</span>
        <time id="meta-generated">Loading…</time>
      </div>
    </header>

    <main class="content" id="content">
      <section class="demo" id="text-console">
        <div class="demo__heading">
          <h2>Interactive Text Console</h2>
          <p>Paste any text (emails, logs, documents, code) and the Structural Intelligence Engine will expose structural patterns, repetition dynamics, and coaching insights in seconds.</p>
        </div>
        <div class="demo__body">
          <div class="card card--wide">
            <h3>Your Text</h3>
            <textarea
              id="text-input"
              class="text-input"
              placeholder="Paste or type text here…"
              rows="10"
            ></textarea>
            <div class="input-actions">
              <span id="text-char-count">0 characters</span>
              <div class="button-row">
                <button id="text-sample-btn" class="btn btn--ghost" type="button">Load Sample</button>
                <button id="text-analyze-btn" class="btn" type="button">Analyze Text</button>
              </div>
            </div>
            <p class="stat__note">Nothing is stored server-side—analysis runs live via the quantum manifold.</p>
          </div>

          <div class="card text-result" id="text-summary" hidden>
            <h3>Summary</h3>
            <dl class="kv" id="text-metrics"></dl>
          </div>

          <div class="card text-result" id="text-patterns" hidden>
            <h3>Structural Signatures</h3>
            <ul class="pattern-list" id="text-pattern-list"></ul>
          </div>

          <div class="card text-result" id="text-repeating" hidden>
            <h3>Repeating Sequences</h3>
            <ul class="sequence-list" id="text-sequence-list"></ul>
          </div>

          <div class="card text-result" id="text-interpretation" hidden>
            <h3>Interpretation</h3>
            <ul class="interpretation-list" id="text-interpretation-list"></ul>
          </div>
        </div>
      </section>

      <section class="demo" id="quick-analyze">
        <div class="demo__heading">
          <h2>Batch CSV Analysis (Optional)</h2>
          <p>Upload a CSV/TSV to run the same structural engine on numerical streams.</p>
        </div>
        <div class="demo__body">
          <div class="card">
            <h3>Upload File</h3>
            <input type="file" id="quick-upload" accept=".csv,.tsv,.txt" />
            <button id="quick-upload-btn" class="btn" type="button">Analyze File</button>
            <p class="stat__note">Results stream directly from the manifold builder; nothing is persisted.</p>
          </div>
          <div class="card" id="quick-summary" hidden>
            <h3>Summary</h3>
            <p id="quick-summary-text">Awaiting upload…</p>
          </div>
          <div class="card" id="quick-metrics" hidden>
            <h3>Numeric Columns</h3>
            <ul class="token-list" id="quick-numeric"></ul>
          </div>
          <div class="card" id="quick-recommend" hidden>
            <h3>Recommendations</h3>
            <ul class="token-list" id="quick-recommendations"></ul>
          </div>
          <div class="card" id="quick-signature-card" hidden>
            <h3>Top Signatures</h3>
            <ul class="token-list" id="quick-signatures"></ul>
            <p class="stat__note" id="quick-manifold-meta">Awaiting upload…</p>
          </div>
        </div>
      </section>

      <section class="demo" id="live-demo">
        <div class="demo__heading">
          <h2>MMS Live Replay</h2>
          <p>Replay the MMS manifold feed to showcase real-time structural scoring.</p>
        </div>
        <div class="demo__body">
          <div class="card">
            <h3>Stream Controls</h3>
            <button id="live-toggle" class="btn btn--ghost" type="button">Start Live Stream</button>
            <p class="stat__note">Streams `/ws/stream` via WebSocket (SSE fallback enabled).</p>
          </div>
          <div class="card card--wide" id="live-feed">
            <h3>Recent Frames</h3>
            <ul class="live-feed" id="live-feed-items"></ul>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <p>Built for the mxbikes.xyz sandbox · Powered by SEP Quantum Manifold</p>
      <p class="site-footer__meta" id="meta-sources">Sources: —</p>
    </footer>
  </div>
  <div id="toast" class="toast" hidden></div>
</body>
</html>
